<!DOCTYPE html>
<html lang="vi" data-theme="light">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AcadIQ ‚Äî H·ªá Th·ªëng Ch·∫•m Th·ª±c L·ª±c H·ªçc Sinh</title>
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&family=Playfair+Display:ital,wght@0,700;0,900;1,700&display=swap" rel="stylesheet">
<style>
/* ===== CSS VARIABLES ===== */
:root {
  --bg: #f0ece3;
  --bg2: #e8e3d8;
  --surface: #faf8f4;
  --surface2: #f2ede4;
  --border: #d5cfc3;
  --border2: #c4bdb0;
  --text: #1a1714;
  --text2: #4a4540;
  --text3: #7a7268;
  --accent: #e8500a;
  --accent2: #c23d00;
  --blue: #1a6bc4;
  --green: #1a9463;
  --gold: #c49a0a;
  --purple: #7c3aed;
  --shadow: 0 2px 20px rgba(0,0,0,0.08);
  --shadow2: 0 8px 40px rgba(0,0,0,0.12);
  --radius: 16px;
  --transition: all 0.3s cubic-bezier(0.4,0,0.2,1);
}

[data-theme="dark"] {
  --bg: #0d0d0f;
  --bg2: #13131a;
  --surface: #1a1a24;
  --surface2: #22222e;
  --border: #2e2e3d;
  --border2: #3a3a50;
  --text: #f0eeff;
  --text2: #b8b4cc;
  --text3: #7a7890;
  --accent: #ff6b2b;
  --accent2: #ff8c55;
  --blue: #4d9fff;
  --green: #2dba7e;
  --gold: #ffca3a;
  --purple: #a78bfa;
  --shadow: 0 2px 20px rgba(0,0,0,0.4);
  --shadow2: 0 8px 40px rgba(0,0,0,0.6);
}

/* ===== RESET & BASE ===== */
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

html { scroll-behavior: smooth; }

body {
  font-family: 'Outfit', sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  transition: background 0.4s ease, color 0.4s ease;
  overflow-x: hidden;
}

/* ===== BACKGROUND DECORATIONS ===== */
.bg-orbs {
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 0;
}
.orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(80px);
  opacity: 0.12;
  transition: opacity 0.4s;
}
[data-theme="dark"] .orb { opacity: 0.15; }
.orb1 { width: 600px; height: 600px; background: var(--accent); top: -200px; right: -200px; }
.orb2 { width: 500px; height: 500px; background: var(--blue); bottom: -150px; left: -150px; }
.orb3 { width: 300px; height: 300px; background: var(--purple); top: 40%; left: 50%; }

/* ===== LAYOUT ===== */
.wrapper { position: relative; z-index: 1; max-width: 1100px; margin: 0 auto; padding: 0 1.5rem 5rem; }

/* ===== HEADER ===== */
header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1.5rem 0;
  margin-bottom: 1rem;
  animation: slideDown 0.6s ease both;
}

.logo {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}
.logo-icon {
  width: 42px; height: 42px;
  background: linear-gradient(135deg, var(--accent), var(--purple));
  border-radius: 12px;
  display: flex; align-items: center; justify-content: center;
  font-size: 1.2rem;
  box-shadow: 0 4px 15px rgba(232,80,10,0.3);
}
.logo-text {
  font-size: 1.5rem;
  font-weight: 800;
  letter-spacing: -0.5px;
  background: linear-gradient(135deg, var(--accent), var(--purple));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.logo-sub {
  font-size: 0.65rem;
  font-weight: 500;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--text3);
  margin-top: -2px;
}

.header-right { display: flex; align-items: center; gap: 1rem; }

.theme-toggle {
  width: 50px; height: 26px;
  background: var(--surface2);
  border: 1.5px solid var(--border);
  border-radius: 50px;
  cursor: pointer;
  position: relative;
  transition: var(--transition);
  outline: none;
}
.theme-toggle::after {
  content: '';
  position: absolute;
  top: 2px; left: 2px;
  width: 18px; height: 18px;
  background: var(--accent);
  border-radius: 50%;
  transition: transform 0.3s cubic-bezier(0.4,0,0.2,1);
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
}
[data-theme="dark"] .theme-toggle::after { transform: translateX(24px); }
.theme-icon {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-size: 10px;
  transition: opacity 0.3s;
}
.sun-icon { left: 5px; opacity: 1; }
.moon-icon { right: 4px; opacity: 0.5; }
[data-theme="dark"] .sun-icon { opacity: 0.5; }
[data-theme="dark"] .moon-icon { opacity: 1; }

/* ===== HERO ===== */
.hero {
  text-align: center;
  padding: 2.5rem 0 3rem;
  animation: fadeUp 0.8s ease 0.1s both;
}
.hero-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 100px;
  padding: 0.35rem 1rem;
  font-size: 0.75rem;
  font-weight: 600;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: var(--accent);
  margin-bottom: 1.5rem;
  box-shadow: var(--shadow);
}
.hero h1 {
  font-family: 'Playfair Display', serif;
  font-size: clamp(2.4rem, 5vw, 4rem);
  font-weight: 900;
  line-height: 1.1;
  margin-bottom: 1rem;
  letter-spacing: -1px;
}
.hero h1 em {
  font-style: italic;
  background: linear-gradient(135deg, var(--accent), var(--gold));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.hero p {
  font-size: 1.05rem;
  color: var(--text3);
  max-width: 540px;
  margin: 0 auto;
  line-height: 1.7;
  font-weight: 400;
}

/* ===== STEP INDICATORS ===== */
.steps {
  display: flex;
  justify-content: center;
  gap: 0;
  margin: 2rem 0 3rem;
  animation: fadeUp 0.8s ease 0.2s both;
}
.step {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--text3);
  padding: 0 1rem;
  position: relative;
  transition: color 0.3s;
}
.step.active { color: var(--accent); }
.step-num {
  width: 28px; height: 28px;
  border-radius: 50%;
  background: var(--surface);
  border: 2px solid var(--border);
  display: flex; align-items: center; justify-content: center;
  font-size: 0.72rem;
  font-weight: 700;
  transition: var(--transition);
  flex-shrink: 0;
}
.step.active .step-num {
  background: var(--accent);
  border-color: var(--accent);
  color: white;
  box-shadow: 0 4px 12px rgba(232,80,10,0.4);
}
.step.done .step-num {
  background: var(--green);
  border-color: var(--green);
  color: white;
}
.step-line {
  width: 60px; height: 2px;
  background: var(--border);
  flex-shrink: 0;
}
.step-line.done { background: var(--green); }

/* ===== CARDS ===== */
.card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 2rem;
  margin-bottom: 1.5rem;
  box-shadow: var(--shadow);
  transition: var(--transition);
}
.card:hover { box-shadow: var(--shadow2); }

.card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 1.5rem;
}
.card-title {
  font-size: 1rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 0.6rem;
}
.card-title-icon {
  width: 32px; height: 32px;
  border-radius: 8px;
  display: flex; align-items: center; justify-content: center;
  font-size: 0.9rem;
  flex-shrink: 0;
}

/* ===== STUDENT INFO SECTION ===== */
.info-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
  margin-bottom: 1.5rem;
}
@media (max-width: 600px) { .info-grid { grid-template-columns: 1fr; } }

.field-group { display: flex; flex-direction: column; gap: 0.4rem; }
.field-label {
  font-size: 0.75rem;
  font-weight: 600;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  color: var(--text3);
}
.field-input {
  padding: 0.7rem 1rem;
  border: 1.5px solid var(--border);
  border-radius: 10px;
  background: var(--bg2);
  color: var(--text);
  font-family: 'Outfit', sans-serif;
  font-size: 0.92rem;
  font-weight: 500;
  outline: none;
  transition: var(--transition);
}
.field-input:focus { border-color: var(--accent); background: var(--surface); box-shadow: 0 0 0 3px rgba(232,80,10,0.1); }
select.field-input option { background: var(--surface); }

/* ===== SCORE ENTRY ===== */
.subjects-container { display: flex; flex-direction: column; gap: 0.75rem; }

.subject-row {
  display: grid;
  grid-template-columns: 1fr 120px 48px;
  gap: 0.75rem;
  align-items: center;
  padding: 0.9rem 1.1rem;
  background: var(--bg2);
  border: 1.5px solid var(--border);
  border-radius: 12px;
  transition: var(--transition);
  animation: fadeUp 0.4s ease both;
}
.subject-row:hover { border-color: var(--accent); background: var(--surface2); }

.subject-name-input {
  border: none;
  background: transparent;
  color: var(--text);
  font-family: 'Outfit', sans-serif;
  font-size: 0.92rem;
  font-weight: 600;
  outline: none;
  width: 100%;
}
.subject-name-input::placeholder { color: var(--text3); font-weight: 400; }

.score-input-wrapper { position: relative; }
.score-input {
  width: 100%;
  padding: 0.5rem 2rem 0.5rem 0.75rem;
  border: 1.5px solid var(--border);
  border-radius: 8px;
  background: var(--surface);
  color: var(--text);
  font-family: 'Outfit', sans-serif;
  font-size: 1rem;
  font-weight: 700;
  text-align: center;
  outline: none;
  transition: var(--transition);
}
.score-input:focus { border-color: var(--accent); box-shadow: 0 0 0 3px rgba(232,80,10,0.1); }
.score-max {
  position: absolute;
  right: 8px; top: 50%;
  transform: translateY(-50%);
  font-size: 0.65rem;
  font-weight: 600;
  color: var(--text3);
}

.btn-remove-subject {
  width: 34px; height: 34px;
  border-radius: 8px;
  border: 1.5px solid var(--border);
  background: transparent;
  color: var(--text3);
  cursor: pointer;
  font-size: 1rem;
  display: flex; align-items: center; justify-content: center;
  transition: var(--transition);
  flex-shrink: 0;
}
.btn-remove-subject:hover { border-color: #e53e3e; color: #e53e3e; background: rgba(229,62,62,0.08); }

.btn-add-subject {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  width: 100%;
  padding: 0.8rem;
  border: 2px dashed var(--border);
  border-radius: 12px;
  background: transparent;
  color: var(--text3);
  font-family: 'Outfit', sans-serif;
  font-size: 0.85rem;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
  margin-top: 0.5rem;
}
.btn-add-subject:hover { border-color: var(--accent); color: var(--accent); background: rgba(232,80,10,0.05); }

/* ===== PRESETS ===== */
.presets {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1rem;
}
.preset-btn {
  padding: 0.4rem 1rem;
  border-radius: 100px;
  border: 1.5px solid var(--border);
  background: transparent;
  color: var(--text2);
  font-family: 'Outfit', sans-serif;
  font-size: 0.78rem;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
}
.preset-btn:hover, .preset-btn.active {
  background: var(--accent);
  border-color: var(--accent);
  color: white;
  box-shadow: 0 4px 12px rgba(232,80,10,0.3);
}

/* ===== CALCULATE BUTTON ===== */
.btn-calculate {
  width: 100%;
  padding: 1.2rem;
  background: linear-gradient(135deg, var(--accent), var(--purple));
  color: white;
  border: none;
  border-radius: var(--radius);
  font-family: 'Outfit', sans-serif;
  font-size: 1rem;
  font-weight: 700;
  letter-spacing: 0.5px;
  cursor: pointer;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(232,80,10,0.35);
  animation: fadeUp 0.8s ease 0.4s both;
}
.btn-calculate::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, var(--purple), var(--blue));
  opacity: 0;
  transition: opacity 0.4s;
}
.btn-calculate:hover::before { opacity: 1; }
.btn-calculate:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(232,80,10,0.45); }
.btn-calculate:active { transform: translateY(0); }
.btn-calculate span { position: relative; z-index: 1; }
.btn-calculate:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }

/* ===== RESULTS SECTION ===== */
#results-section { display: none; }
#results-section.show { display: block; animation: fadeUp 0.7s ease both; }

/* ===== PROFILE CARD ===== */
.profile-card {
  background: linear-gradient(135deg, var(--surface), var(--surface2));
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 2rem;
  margin-bottom: 1.5rem;
  position: relative;
  overflow: hidden;
  box-shadow: var(--shadow2);
}
.profile-card::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 4px;
  background: linear-gradient(90deg, var(--accent), var(--gold), var(--purple));
}
.profile-top {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 1.5rem;
}
.profile-avatar {
  width: 70px; height: 70px;
  border-radius: 18px;
  background: linear-gradient(135deg, var(--accent), var(--purple));
  display: flex; align-items: center; justify-content: center;
  font-size: 1.8rem;
  flex-shrink: 0;
  box-shadow: 0 4px 20px rgba(232,80,10,0.3);
}
.profile-info { flex: 1; }
.profile-name {
  font-family: 'Playfair Display', serif;
  font-size: 1.6rem;
  font-weight: 900;
  letter-spacing: -0.5px;
  margin-bottom: 0.3rem;
}
.profile-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}
.meta-tag {
  display: inline-flex;
  align-items: center;
  gap: 0.3rem;
  padding: 0.25rem 0.75rem;
  border-radius: 100px;
  background: var(--bg2);
  border: 1px solid var(--border);
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--text2);
}

.gpa-display { text-align: right; }
.gpa-number {
  font-family: 'Playfair Display', serif;
  font-size: 3.5rem;
  font-weight: 900;
  line-height: 1;
  letter-spacing: -2px;
}
.gpa-sub {
  font-size: 0.75rem;
  font-weight: 600;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: var(--text3);
  margin-top: 0.2rem;
}

/* ===== LEVEL BADGE ===== */
.level-display {
  text-align: center;
  padding: 1.5rem;
  margin-top: 1.5rem;
  background: var(--bg2);
  border-radius: 12px;
  border: 1px solid var(--border);
}
.level-emoji { font-size: 2.5rem; margin-bottom: 0.5rem; }
.level-title {
  font-family: 'Playfair Display', serif;
  font-size: 1.4rem;
  font-weight: 700;
  margin-bottom: 0.3rem;
}
.level-desc { font-size: 0.85rem; color: var(--text3); line-height: 1.6; }

/* ===== SCORE BREAKDOWN ===== */
.breakdown-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 1rem;
  margin-bottom: 1.5rem;
}
.breakdown-item {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 1.2rem;
  transition: var(--transition);
  animation: scaleIn 0.4s ease both;
}
.breakdown-item:hover { transform: translateY(-3px); box-shadow: var(--shadow2); }
.breakdown-subject {
  font-size: 0.72rem;
  font-weight: 700;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  color: var(--text3);
  margin-bottom: 0.6rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.breakdown-score {
  font-family: 'Playfair Display', serif;
  font-size: 2rem;
  font-weight: 900;
  line-height: 1;
  letter-spacing: -1px;
}
.breakdown-bar-track {
  margin-top: 0.8rem;
  height: 5px;
  background: var(--bg2);
  border-radius: 100px;
  overflow: hidden;
}
.breakdown-bar {
  height: 100%;
  border-radius: 100px;
  width: 0;
  transition: width 1.2s cubic-bezier(0.4,0,0.2,1);
}
.breakdown-grade {
  font-size: 0.72rem;
  font-weight: 700;
  margin-top: 0.4rem;
  letter-spacing: 0.5px;
}

/* ===== RADAR/STATS SECTION ===== */
.stats-row {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 1rem;
  margin-bottom: 1.5rem;
}
@media (max-width: 700px) { .stats-row { grid-template-columns: 1fr; } }

.stat-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  padding: 1.4rem;
  text-align: center;
  transition: var(--transition);
}
.stat-card:hover { transform: translateY(-3px); box-shadow: var(--shadow2); }
.stat-icon { font-size: 1.6rem; margin-bottom: 0.5rem; }
.stat-value {
  font-family: 'Playfair Display', serif;
  font-size: 1.8rem;
  font-weight: 900;
  letter-spacing: -1px;
  line-height: 1;
  margin-bottom: 0.2rem;
}
.stat-label {
  font-size: 0.72rem;
  font-weight: 600;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: var(--text3);
}

/* ===== VISUAL CHART ===== */
.chart-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1.5rem 2rem;
  margin-bottom: 1.5rem;
}
.chart-title {
  font-size: 0.85rem;
  font-weight: 700;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: var(--text3);
  margin-bottom: 1.2rem;
}
.bar-chart { display: flex; flex-direction: column; gap: 0.85rem; }
.chart-row { display: flex; align-items: center; gap: 1rem; }
.chart-label {
  width: 130px;
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--text2);
  text-align: right;
  flex-shrink: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.chart-bar-track {
  flex: 1;
  height: 28px;
  background: var(--bg2);
  border-radius: 6px;
  overflow: hidden;
  position: relative;
}
.chart-bar {
  height: 100%;
  border-radius: 6px;
  width: 0;
  transition: width 1.2s cubic-bezier(0.4,0,0.2,1);
  display: flex;
  align-items: center;
  justify-content: flex-end;
  padding-right: 10px;
  font-size: 0.75rem;
  font-weight: 700;
  color: white;
  min-width: 40px;
}
.chart-score-label {
  width: 40px;
  font-size: 0.8rem;
  font-weight: 700;
  text-align: left;
  flex-shrink: 0;
}

/* ===== RECOMMENDATION ===== */
.recommendation-card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-left: 4px solid var(--accent);
  border-radius: var(--radius);
  padding: 1.5rem 2rem;
  margin-bottom: 1.5rem;
}
.rec-title {
  font-size: 0.8rem;
  font-weight: 700;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--accent);
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}
.rec-items { display: flex; flex-direction: column; gap: 0.75rem; }
.rec-item {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  font-size: 0.9rem;
  line-height: 1.6;
  color: var(--text2);
}
.rec-dot {
  width: 6px; height: 6px;
  background: var(--accent);
  border-radius: 50%;
  margin-top: 7px;
  flex-shrink: 0;
}

/* ===== ACTIONS ===== */
.action-row {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}
.btn-secondary {
  flex: 1;
  min-width: 140px;
  padding: 0.9rem 1.5rem;
  border: 2px solid var(--border);
  border-radius: var(--radius);
  background: transparent;
  color: var(--text2);
  font-family: 'Outfit', sans-serif;
  font-size: 0.88rem;
  font-weight: 700;
  cursor: pointer;
  transition: var(--transition);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}
.btn-secondary:hover { border-color: var(--accent); color: var(--accent); background: rgba(232,80,10,0.05); }

.btn-print {
  flex: 1;
  min-width: 140px;
  padding: 0.9rem 1.5rem;
  border: none;
  border-radius: var(--radius);
  background: var(--surface2);
  color: var(--text);
  font-family: 'Outfit', sans-serif;
  font-size: 0.88rem;
  font-weight: 700;
  cursor: pointer;
  transition: var(--transition);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}
.btn-print:hover { background: var(--green); color: white; }

/* ===== TOAST ===== */
.toast {
  position: fixed;
  bottom: 2rem;
  left: 50%;
  transform: translateX(-50%) translateY(100px);
  background: var(--text);
  color: var(--bg);
  padding: 0.9rem 1.5rem;
  border-radius: 100px;
  font-size: 0.85rem;
  font-weight: 600;
  z-index: 1000;
  transition: transform 0.4s cubic-bezier(0.4,0,0.2,1);
  box-shadow: var(--shadow2);
  display: flex;
  align-items: center;
  gap: 0.5rem;
  white-space: nowrap;
}
.toast.show { transform: translateX(-50%) translateY(0); }

/* ===== ANIMATIONS ===== */
@keyframes slideDown { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
@keyframes fadeUp { from { transform: translateY(30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
@keyframes scaleIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
@keyframes spin { to { transform: rotate(360deg); } }

/* ===== LOADING SPINNER ===== */
.spinner {
  display: inline-block;
  width: 18px; height: 18px;
  border: 2.5px solid rgba(255,255,255,0.3);
  border-top-color: white;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

/* ===== DIVIDER ===== */
.section-divider {
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--border), transparent);
  margin: 2rem 0;
}

/* ===== SCROLL TO RESULTS ===== */
.scroll-hint {
  text-align: center;
  font-size: 0.78rem;
  color: var(--text3);
  margin-top: -0.5rem;
  margin-bottom: 1rem;
  animation: fadeUp 0.8s ease 0.5s both;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 500px) {
  .steps { flex-wrap: wrap; justify-content: center; }
  .step-line { display: none; }
  .profile-top { flex-direction: column; }
  .gpa-display { text-align: left; }
  header { flex-direction: column; gap: 1rem; text-align: center; }
}

/* ===== FOOTER ===== */
footer {
  text-align: center;
  padding: 2rem;
  font-size: 0.75rem;
  color: var(--text3);
  font-weight: 500;
  letter-spacing: 0.5px;
  border-top: 1px solid var(--border);
  margin-top: 2rem;
}

/* ===== PRINT ===== */
@media print {
  header, .steps, #input-section, .action-row, footer, .bg-orbs { display: none !important; }
  #results-section { display: block !important; }
  body { background: white; color: black; }
}

/* Score colors */
.color-excellent { color: var(--green); }
.color-good { color: var(--blue); }
.color-average { color: var(--gold); }
.color-poor { color: var(--accent); }
.bar-excellent { background: linear-gradient(90deg, var(--green), #4ade80); }
.bar-good { background: linear-gradient(90deg, var(--blue), #60a5fa); }
.bar-average { background: linear-gradient(90deg, var(--gold), #fbbf24); }
.bar-poor { background: linear-gradient(90deg, #ef4444, #f87171); }
</style>
</head>
<body>

<div class="bg-orbs">
  <div class="orb orb1"></div>
  <div class="orb orb2"></div>
  <div class="orb orb3"></div>
</div>

<div class="wrapper">

  <!-- HEADER -->
  <header>
    <div class="logo">
      <div class="logo-icon">üéì</div>
      <div>
        <div class="logo-text">AcadIQ</div>
        <div class="logo-sub">H·ªá th·ªëng ch·∫•m th·ª±c l·ª±c</div>
      </div>
    </div>
    <div class="header-right">
      <button class="theme-toggle" onclick="toggleTheme()" title="Chuy·ªÉn ch·∫ø ƒë·ªô t·ªëi/s√°ng">
        <span class="theme-icon sun-icon">‚òÄÔ∏è</span>
        <span class="theme-icon moon-icon">üåô</span>
      </button>
    </div>
  </header>

  <!-- HERO -->
  <div class="hero">
    <div class="hero-badge">‚ú¶ Ph√¢n t√≠ch th·ª±c l·ª±c ch√≠nh x√°c</div>
    <h1>ƒê√°nh Gi√° <em>Th·ª±c L·ª±c</em><br>H·ªçc Sinh</h1>
    <p>Nh·∫≠p ƒëi·ªÉm c√°c m√¥n h·ªçc ‚Äî h·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông t√≠nh to√°n GPA, x·∫øp lo·∫°i v√† ƒë∆∞a ra ph√¢n t√≠ch to√†n di·ªán v·ªÅ nƒÉng l·ª±c h·ªçc t·∫≠p.</p>
  </div>

  <!-- STEP INDICATORS -->
  <div class="steps">
    <div class="step active" id="step1">
      <div class="step-num">1</div>
      <span>Th√¥ng tin</span>
    </div>
    <div class="step-line" id="line1"></div>
    <div class="step" id="step2">
      <div class="step-num">2</div>
      <span>Nh·∫≠p ƒëi·ªÉm</span>
    </div>
    <div class="step-line" id="line2"></div>
    <div class="step" id="step3">
      <div class="step-num">3</div>
      <span>K·∫øt qu·∫£</span>
    </div>
  </div>

  <!-- INPUT SECTION -->
  <div id="input-section">
    <!-- Student Info -->
    <div class="card" style="animation: fadeUp 0.6s ease 0.1s both;">
      <div class="card-header">
        <div class="card-title">
          <div class="card-title-icon" style="background: rgba(26,107,196,0.15);">üë§</div>
          Th√¥ng tin h·ªçc sinh
        </div>
      </div>
      <div class="info-grid">
        <div class="field-group">
          <label class="field-label">H·ªç v√† t√™n</label>
          <input type="text" class="field-input" id="studentName" placeholder="Nguy·ªÖn VƒÉn A" />
        </div>
        <div class="field-group">
          <label class="field-label">L·ªõp / Kh√≥a</label>
          <input type="text" class="field-input" id="studentClass" placeholder="12A1" />
        </div>
        <div class="field-group">
          <label class="field-label">H·ªçc k·ª≥ / NƒÉm h·ªçc</label>
          <input type="text" class="field-input" id="semester" placeholder="HK1 ‚Äî 2024‚Äì2025" />
        </div>
        <div class="field-group">
          <label class="field-label">H·ªá th·ªëng thang ƒëi·ªÉm</label>
          <select class="field-input" id="scoreSystem" onchange="updateScoreSystem()">
            <option value="10">Thang ƒëi·ªÉm 10</option>
            <option value="100">Thang ƒëi·ªÉm 100</option>
            <option value="4">Thang ƒëi·ªÉm 4 (GPA)</option>
          </select>
        </div>
      </div>
    </div>

    <!-- Score Entry -->
    <div class="card" style="animation: fadeUp 0.6s ease 0.2s both;">
      <div class="card-header">
        <div class="card-title">
          <div class="card-title-icon" style="background: rgba(232,80,10,0.15);">üìä</div>
          Nh·∫≠p ƒëi·ªÉm c√°c m√¥n h·ªçc
        </div>
      </div>

      <!-- Preset Templates -->
      <div style="margin-bottom: 1rem;">
        <div class="field-label" style="margin-bottom: 0.6rem;">B·ªô m√¥n g·ª£i √Ω:</div>
        <div class="presets">
          <button class="preset-btn" onclick="loadPreset('thpt')">üè´ Trung h·ªçc PT</button>
          <button class="preset-btn" onclick="loadPreset('stem')">üî¨ STEM</button>
          <button class="preset-btn" onclick="loadPreset('nhakhoa')">üìö ƒê·∫°i h·ªçc</button>
          <button class="preset-btn" onclick="loadPreset('khtn')">üß™ Kh·ªëi A</button>
          <button class="preset-btn" onclick="loadPreset('khxh')">üåç Kh·ªëi C</button>
        </div>
      </div>

      <div class="subjects-container" id="subjectsContainer"></div>
      <button class="btn-add-subject" onclick="addSubject()">
        <span>Ôºã</span> Th√™m m√¥n h·ªçc
      </button>
    </div>

    <div class="scroll-hint">‚Üì Sau khi nh·∫≠p ƒë·ªß ƒëi·ªÉm, nh·∫•n n√∫t b√™n d∆∞·ªõi</div>

    <button class="btn-calculate" id="btnCalculate" onclick="calculate()">
      <span>‚ö° T√≠nh th·ª±c l·ª±c ngay</span>
    </button>
  </div>

  <div class="section-divider" id="divider" style="display:none;"></div>

  <!-- RESULTS SECTION -->
  <div id="results-section">

    <!-- Profile Card -->
    <div class="profile-card" id="profileCard">
      <div class="profile-top">
        <div style="display:flex; gap:1rem; align-items:flex-start;">
          <div class="profile-avatar" id="profileAvatar">üéì</div>
          <div class="profile-info">
            <div class="profile-name" id="profileName">‚Äî</div>
            <div class="profile-meta" id="profileMeta"></div>
          </div>
        </div>
        <div class="gpa-display">
          <div class="gpa-number" id="gpaNumber" style="color: var(--accent);">‚Äî</div>
          <div class="gpa-sub" id="gpaSub">ƒêi·ªÉm TB</div>
        </div>
      </div>

      <div class="level-display" id="levelDisplay">
        <div class="level-emoji" id="levelEmoji">‚Äî</div>
        <div class="level-title" id="levelTitle">‚Äî</div>
        <div class="level-desc" id="levelDesc">‚Äî</div>
      </div>
    </div>

    <!-- Stats Row -->
    <div class="stats-row">
      <div class="stat-card">
        <div class="stat-icon">üìà</div>
        <div class="stat-value" id="statHighest">‚Äî</div>
        <div class="stat-label">ƒêi·ªÉm cao nh·∫•t</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">üìâ</div>
        <div class="stat-value" id="statLowest">‚Äî</div>
        <div class="stat-label">ƒêi·ªÉm th·∫•p nh·∫•t</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">üéØ</div>
        <div class="stat-value" id="statPass">‚Äî</div>
        <div class="stat-label">M√¥n ƒë·∫°t / T·ªïng</div>
      </div>
    </div>

    <!-- Breakdown Grid -->
    <div class="card">
      <div class="card-header">
        <div class="card-title">
          <div class="card-title-icon" style="background: rgba(124,58,237,0.15);">üìã</div>
          Chi ti·∫øt ƒëi·ªÉm t·ª´ng m√¥n
        </div>
      </div>
      <div class="breakdown-grid" id="breakdownGrid"></div>
    </div>

    <!-- Bar Chart -->
    <div class="chart-card">
      <div class="chart-title">üìä Bi·ªÉu ƒë·ªì ƒëi·ªÉm s·ªë</div>
      <div class="bar-chart" id="barChart"></div>
    </div>

    <!-- Recommendation -->
    <div class="recommendation-card">
      <div class="rec-title">‚ú¶ Ph√¢n t√≠ch & Khuy·∫øn ngh·ªã</div>
      <div class="rec-items" id="recItems"></div>
    </div>

    <!-- Action Buttons -->
    <div class="action-row">
      <button class="btn-secondary" onclick="resetForm()">
        ‚Üê Nh·∫≠p l·∫°i
      </button>
      <button class="btn-print" onclick="window.print()">
        üñ®Ô∏è In k·∫øt qu·∫£
      </button>
      <button class="btn-secondary" onclick="copyResult()">
        üìã Sao ch√©p
      </button>
    </div>

  </div>

</div>

<footer>
  AcadIQ ‚Äî H·ªá Th·ªëng Ch·∫•m Th·ª±c L·ª±c H·ªçc Sinh &nbsp;¬∑&nbsp; Ph√¢n t√≠ch th√¥ng minh, ch√≠nh x√°c
</footer>

<!-- Toast -->
<div class="toast" id="toast"></div>

<script>
// ===== STATE =====
let maxScore = 10;
let subjectCount = 0;

// ===== THEME =====
function toggleTheme() {
  const html = document.documentElement;
  const isDark = html.getAttribute('data-theme') === 'dark';
  html.setAttribute('data-theme', isDark ? 'light' : 'dark');
  localStorage.setItem('theme', isDark ? 'light' : 'dark');
}

// Load saved theme
const savedTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
document.documentElement.setAttribute('data-theme', savedTheme);

// ===== PRESETS =====
const presets = {
  thpt: ['To√°n','VƒÉn','Ti·∫øng Anh','V·∫≠t L√Ω','H√≥a H·ªçc','Sinh H·ªçc','L·ªãch S·ª≠','ƒê·ªãa L√Ω','GDCD'],
  stem: ['To√°n','V·∫≠t L√Ω','H√≥a H·ªçc','Sinh H·ªçc','Tin H·ªçc','Ti·∫øng Anh'],
  nhakhoa: ['To√°n','V·∫≠t L√Ω','H√≥a H·ªçc','Sinh H·ªçc','Ti·∫øng Anh','GDQP'],
  khtn: ['To√°n','V·∫≠t L√Ω','H√≥a H·ªçc','Ti·∫øng Anh'],
  khxh: ['VƒÉn','L·ªãch S·ª≠','ƒê·ªãa L√Ω','Ti·∫øng Anh'],
};

function loadPreset(key) {
  // Update active preset btn
  document.querySelectorAll('.preset-btn').forEach(b => b.classList.remove('active'));
  event.target.classList.add('active');

  const subjects = presets[key];
  const container = document.getElementById('subjectsContainer');
  container.innerHTML = '';
  subjectCount = 0;
  subjects.forEach(s => addSubject(s));
}

function updateScoreSystem() {
  maxScore = parseInt(document.getElementById('scoreSystem').value);
  document.querySelectorAll('.score-max').forEach(el => el.textContent = '/' + maxScore);
  document.querySelectorAll('.score-input').forEach(el => {
    el.max = maxScore;
    el.step = maxScore === 4 ? 0.1 : (maxScore === 100 ? 1 : 0.1);
  });
}

// ===== SUBJECT MANAGEMENT =====
function addSubject(name = '') {
  subjectCount++;
  const id = subjectCount;
  const container = document.getElementById('subjectsContainer');
  const div = document.createElement('div');
  div.className = 'subject-row';
  div.id = 'subject-' + id;
  div.style.animationDelay = (id * 0.05) + 's';
  div.innerHTML = `
    <input type="text" class="subject-name-input" placeholder="T√™n m√¥n h·ªçc..." value="${name}" />
    <div class="score-input-wrapper">
      <input type="number" class="score-input" placeholder="0" min="0" max="${maxScore}" step="0.1" />
      <span class="score-max">/${maxScore}</span>
    </div>
    <button class="btn-remove-subject" onclick="removeSubject(${id})" title="X√≥a m√¥n">‚úï</button>
  `;
  container.appendChild(div);
}

function removeSubject(id) {
  const el = document.getElementById('subject-' + id);
  if (el) {
    el.style.transform = 'scale(0.9)';
    el.style.opacity = '0';
    el.style.transition = 'all 0.2s';
    setTimeout(() => el.remove(), 200);
  }
}

// ===== CALCULATE =====
function calculate() {
  const name = document.getElementById('studentName').value.trim() || 'H·ªçc sinh';
  const cls = document.getElementById('studentClass').value.trim();
  const sem = document.getElementById('semester').value.trim();
  const system = parseInt(document.getElementById('scoreSystem').value);

  const rows = document.querySelectorAll('.subject-row');
  const scores = [];

  rows.forEach(row => {
    const subjectName = row.querySelector('.subject-name-input').value.trim() || 'M√¥n h·ªçc';
    const scoreVal = parseFloat(row.querySelector('.score-input').value);
    if (!isNaN(scoreVal) && scoreVal >= 0 && scoreVal <= system) {
      scores.push({ name: subjectName, score: scoreVal });
    }
  });

  if (scores.length === 0) {
    showToast('‚ö†Ô∏è Vui l√≤ng nh·∫≠p √≠t nh·∫•t m·ªôt m√¥n h·ªçc!');
    return;
  }

  // Animate button
  const btn = document.getElementById('btnCalculate');
  btn.disabled = true;
  btn.innerHTML = '<span><div class="spinner" style="display:inline-block;"></div> ƒêang t√≠nh to√°n...</span>';

  setTimeout(() => {
    btn.disabled = false;
    btn.innerHTML = '<span>‚ö° T√≠nh th·ª±c l·ª±c ngay</span>';
    renderResults(name, cls, sem, scores, system);
  }, 800);
}

// ===== RENDER RESULTS =====
function renderResults(name, cls, sem, scores, system) {
  const avg = scores.reduce((s, x) => s + x.score, 0) / scores.length;
  const normalized = system === 10 ? avg : system === 100 ? avg / 10 : avg * 2.5;
  const maxS = Math.max(...scores.map(x => x.score));
  const minS = Math.min(...scores.map(x => x.score));
  const passThreshold = system === 10 ? 5 : system === 100 ? 50 : 2;
  const passCount = scores.filter(x => x.score >= passThreshold).length;

  // Level config
  const level = getLevel(normalized, system);

  // Render profile
  document.getElementById('profileName').textContent = name;
  const metaHtml = [cls && `<span class="meta-tag">üè´ ${cls}</span>`, sem && `<span class="meta-tag">üìÖ ${sem}</span>`, `<span class="meta-tag">üìö ${scores.length} m√¥n</span>`].filter(Boolean).join('');
  document.getElementById('profileMeta').innerHTML = metaHtml;

  const displayAvg = avg.toFixed(2);
  document.getElementById('gpaNumber').textContent = displayAvg;
  document.getElementById('gpaNumber').style.color = level.color;
  document.getElementById('gpaSub').textContent = 'ƒêi·ªÉm TB / ' + system;

  document.getElementById('levelEmoji').textContent = level.emoji;
  document.getElementById('levelTitle').innerHTML = `<span style="color:${level.color}">${level.title}</span>`;
  document.getElementById('levelDesc').textContent = level.desc;

  // Stats
  document.getElementById('statHighest').textContent = maxS.toFixed(1);
  document.getElementById('statHighest').style.color = 'var(--green)';
  document.getElementById('statLowest').textContent = minS.toFixed(1);
  document.getElementById('statLowest').style.color = minS < passThreshold ? 'var(--accent)' : 'var(--gold)';
  document.getElementById('statPass').textContent = `${passCount}/${scores.length}`;
  document.getElementById('statPass').style.color = passCount === scores.length ? 'var(--green)' : 'var(--accent)';

  // Steps
  document.getElementById('step1').classList.add('done');
  document.getElementById('step2').classList.add('done');
  document.getElementById('step3').classList.add('active');
  document.getElementById('line1').classList.add('done');
  document.getElementById('line2').classList.add('done');

  // Breakdown grid
  const grid = document.getElementById('breakdownGrid');
  grid.innerHTML = '';
  scores.forEach((s, i) => {
    const pct = (s.score / system) * 100;
    const sc = getScoreClass(s.score / system * 10);
    const div = document.createElement('div');
    div.className = 'breakdown-item';
    div.style.animationDelay = (i * 0.07) + 's';
    div.innerHTML = `
      <div class="breakdown-subject">${s.name}</div>
      <div class="breakdown-score ${sc.colorClass}">${s.score}<span style="font-size:0.9rem;opacity:0.5">/${system}</span></div>
      <div class="breakdown-bar-track">
        <div class="breakdown-bar ${sc.barClass}" style="width:0" data-width="${pct}%"></div>
      </div>
      <div class="breakdown-grade ${sc.colorClass}">${sc.grade}</div>
    `;
    grid.appendChild(div);
  });

  // Bar chart
  const chart = document.getElementById('barChart');
  chart.innerHTML = '';
  scores.forEach(s => {
    const pct = (s.score / system) * 100;
    const sc = getScoreClass(s.score / system * 10);
    const row = document.createElement('div');
    row.className = 'chart-row';
    row.innerHTML = `
      <div class="chart-label">${s.name}</div>
      <div class="chart-bar-track">
        <div class="chart-bar ${sc.barClass}" data-width="${pct}%" style="width:0">${s.score}</div>
      </div>
      <div class="chart-score-label ${sc.colorClass}">${s.score}</div>
    `;
    chart.appendChild(row);
  });

  // Recommendations
  generateRecommendations(scores, avg, system, passThreshold, level);

  // Show results
  document.getElementById('divider').style.display = 'block';
  document.getElementById('results-section').classList.add('show');

  // Animate bars after short delay
  setTimeout(() => {
    document.querySelectorAll('[data-width]').forEach(el => {
      el.style.width = el.getAttribute('data-width');
    });
  }, 300);

  // Scroll to results
  setTimeout(() => {
    document.getElementById('results-section').scrollIntoView({ behavior: 'smooth', block: 'start' });
  }, 100);
}

// ===== LEVEL LOGIC =====
function getLevel(normalized10, system) {
  if (normalized10 >= 9) return {
    emoji: 'üèÜ', title: 'Xu·∫•t S·∫Øc', color: 'var(--green)',
    desc: 'Th·ª±c l·ª±c v∆∞·ª£t tr·ªôi ‚Äî n·∫Øm v·ªØng to√†n b·ªô ki·∫øn th·ª©c, c√≥ t∆∞ duy ph√¢n t√≠ch s√¢u s·∫Øc. Ti·ªÅm nƒÉng h·ªçc b·ªïng v√† gi·∫£i th∆∞·ªüng cao.'
  };
  if (normalized10 >= 8) return {
    emoji: '‚≠ê', title: 'Gi·ªèi', color: 'var(--blue)',
    desc: 'Th·ª±c l·ª±c t·ªët ‚Äî hi·ªÉu b√†i s√¢u, √°p d·ª•ng th√†nh th·∫°o. C·∫ßn duy tr√¨ v√† ph√°t huy ƒë·ªÉ ƒë·∫°t m·ª©c xu·∫•t s·∫Øc.'
  };
  if (normalized10 >= 6.5) return {
    emoji: 'üìò', title: 'Kh√°', color: 'var(--purple)',
    desc: 'Th·ª±c l·ª±c kh√° ‚Äî n·∫Øm ƒë∆∞·ª£c ki·∫øn th·ª©c c∆° b·∫£n t·ªët, c√≥ m·ªôt s·ªë ƒëi·ªÉm c·∫ßn c·ªßng c·ªë th√™m ƒë·ªÉ ph√°t tri·ªÉn to√†n di·ªán h∆°n.'
  };
  if (normalized10 >= 5) return {
    emoji: 'üìó', title: 'Trung B√¨nh', color: 'var(--gold)',
    desc: 'Th·ª±c l·ª±c trung b√¨nh ‚Äî c·∫ßn ƒë·∫ßu t∆∞ th√™m th·ªùi gian √¥n luy·ªán v√† c·ªßng c·ªë n·ªÅn t·∫£ng ki·∫øn th·ª©c ·ªü c√°c m√¥n c√≤n y·∫øu.'
  };
  if (normalized10 >= 3.5) return {
    emoji: 'üìô', title: 'Y·∫øu', color: '#ef8c00',
    desc: 'Th·ª±c l·ª±c c√≤n h·∫°n ch·∫ø ‚Äî c·∫ßn xem x√©t l·∫°i ph∆∞∆°ng ph√°p h·ªçc t·∫≠p, t√¨m s·ª± h·ªó tr·ª£ t·ª´ gi√°o vi√™n v√† b·∫°n b√®.'
  };
  return {
    emoji: 'üìï', title: 'C·∫ßn C·∫£i Thi·ªán', color: 'var(--accent)',
    desc: 'Th·ª±c l·ª±c c·∫ßn ƒë∆∞·ª£c c·∫£i thi·ªán ƒë√°ng k·ªÉ ‚Äî h√£y x√¢y d·ª±ng k·∫ø ho·∫°ch h·ªçc t·∫≠p r√µ r√†ng v√† t√¨m s·ª± h·ªó tr·ª£ k·ªãp th·ªùi.'
  };
}

function getScoreClass(score10) {
  if (score10 >= 9) return { colorClass: 'color-excellent', barClass: 'bar-excellent', grade: 'Xu·∫•t S·∫Øc (A+)' };
  if (score10 >= 8) return { colorClass: 'color-good', barClass: 'bar-good', grade: 'Gi·ªèi (A)' };
  if (score10 >= 6.5) return { colorClass: 'color-good', barClass: 'bar-good', grade: 'Kh√° (B)' };
  if (score10 >= 5) return { colorClass: 'color-average', barClass: 'bar-average', grade: 'Trung B√¨nh (C)' };
  return { colorClass: 'color-poor', barClass: 'bar-poor', grade: 'Ch∆∞a ƒê·∫°t (D)' };
}

// ===== RECOMMENDATIONS =====
function generateRecommendations(scores, avg, system, threshold, level) {
  const failedSubjects = scores.filter(s => s.score < threshold).map(s => s.name);
  const topSubjects = scores.sort((a, b) => b.score - a.score).slice(0, 2).map(s => s.name);
  const lowSubjects = [...scores].sort((a, b) => a.score - b.score).slice(0, 2).map(s => s.name);

  const recs = [];

  if (failedSubjects.length > 0) {
    recs.push(`C·∫ßn t·∫≠p trung √¥n t·∫≠p v√† c·ªßng c·ªë ki·∫øn th·ª©c ·ªü: <strong>${failedSubjects.join(', ')}</strong>. H√£y l·∫≠p k·∫ø ho·∫°ch h·ªçc b√π v√† nh·ªù s·ª± h·ªó tr·ª£ t·ª´ gi√°o vi√™n.`);
  }

  recs.push(`Th·∫ø m·∫°nh n·ªïi b·∫≠t ·ªü: <strong>${topSubjects.join(', ')}</strong>. C√≥ th·ªÉ tham gia ƒë·ªôi tuy·ªÉn ho·∫∑c c√°c cu·ªôc thi ƒë·ªÉ ph√°t huy t·ªëi ƒëa ti·ªÅm nƒÉng.`);

  if (lowSubjects.length > 0 && !failedSubjects.includes(lowSubjects[0])) {
    recs.push(`C·∫ßn ch√∫ √Ω n√¢ng cao ƒëi·ªÉm t·∫°i: <strong>${lowSubjects.join(', ')}</strong> ƒë·ªÉ c√¢n b·∫±ng l·ª±c h·ªçc t·ªïng th·ªÉ.`);
  }

  if (level.title === 'Xu·∫•t S·∫Øc' || level.title === 'Gi·ªèi') {
    recs.push(`V·ªõi th·ª±c l·ª±c ${level.title.toLowerCase()}, h√£y xem x√©t tham gia c√°c ch∆∞∆°ng tr√¨nh h·ªçc b·ªïng, nghi√™n c·ª©u khoa h·ªçc ho·∫∑c thi h·ªçc sinh gi·ªèi ƒë·ªÉ ph√°t tri·ªÉn to√†n di·ªán.`);
  } else {
    recs.push(`X√¢y d·ª±ng l·ªãch h·ªçc ƒë·ªÅu ƒë·∫∑n m·ªói ng√†y t·ªëi thi·ªÉu 2‚Äì3 ti·∫øng. ∆Øu ti√™n √¥n l√Ω thuy·∫øt n·ªÅn tr∆∞·ªõc, sau ƒë√≥ luy·ªán b√†i t·∫≠p ·ª©ng d·ª•ng ƒë·ªÉ c·∫£i thi·ªán ƒëi·ªÉm s·ªë b·ªÅn v·ªØng.`);
  }

  const recItems = document.getElementById('recItems');
  recItems.innerHTML = '';
  recs.forEach(r => {
    const div = document.createElement('div');
    div.className = 'rec-item';
    div.innerHTML = `<div class="rec-dot"></div><div>${r}</div>`;
    recItems.appendChild(div);
  });
}

// ===== ACTIONS =====
function resetForm() {
  document.getElementById('results-section').classList.remove('show');
  document.getElementById('divider').style.display = 'none';
  document.getElementById('step1').classList.remove('done');
  document.getElementById('step2').classList.remove('done');
  document.getElementById('step3').classList.remove('active');
  document.getElementById('line1').classList.remove('done');
  document.getElementById('line2').classList.remove('done');
  document.getElementById('step1').classList.add('active');
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function copyResult() {
  const name = document.getElementById('profileName').textContent;
  const gpa = document.getElementById('gpaNumber').textContent;
  const level = document.getElementById('levelTitle').textContent;
  const text = `üìä K·∫øt qu·∫£ ƒë√°nh gi√°: ${name}\n‚≠ê ƒêi·ªÉm TB: ${gpa}\nüéØ X·∫øp lo·∫°i: ${level}`;
  navigator.clipboard.writeText(text).then(() => showToast('‚úÖ ƒê√£ sao ch√©p k·∫øt qu·∫£!'));
}

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 2500);
}

// ===== INIT =====
// Load default subjects
loadPreset('thpt');
document.querySelector('.preset-btn').classList.add('active');
</script>

</body>
</html>
